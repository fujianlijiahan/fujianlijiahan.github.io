(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e379"],{KEv7:function(e,t,a){"use strict";a.d(t,"a",function(){return d});a("EPZ6");var i=a("Asgo"),n=a.n(i),l=a("f0Pt"),s=a.n(l),o=a("hrJr"),c=a("Q2AE"),r=s.a.create({baseURL:"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin",timeout:1e5});function d(e,t){return r({url:e,method:"post",data:t})}r.interceptors.request.use(function(e){return c.a.getters.token,e},function(e){console.log(e),n.a.reject(e)}),r.interceptors.response.use(function(e){return e.data},function(e){return console.log("err"+e),Object(o.Message)({message:e.message,type:"error",duration:5e3}),n.a.reject(e)})},Kye4:function(e,t,a){},R4Z9:function(e,t,a){"use strict";var i=a("gpA7");a.n(i).a},VUtK:function(e,t,a){"use strict";var i=a("Kye4");a.n(i).a},awqV:function(e,t,a){"use strict";a.r(t);var i=a("6ZY3"),n=a.n(i),l=a("omC7"),s=a.n(l),o=a("EPZ6"),c=a.n(o),r=a("KEv7"),d=a("ZrdR"),u=Object(d.a)({},void 0,void 0,!1,null,null,null);u.options.__file="readData.vue";var m=u.exports,p={name:"addWay",components:{editor:a("V02C"),readData:m},data:function(){return{databaseVisible:!1,httpVisible:!1,addDatabaseTable:{name:"",miaoshu:"",sql:"select * from aaa",connid:""},addHttpTable:{name:"",miaoshu:"",headUrl:"http://10.0.12.149:8082/platform-zhejiang/newMapController/queryTableHead.action",dataUrl:"http://10.0.12.149:8082/platform-zhejiang/newMapController/queryTableDataList.action",connid:""},newData:[],ZiduanForm:[],previewShow:[],title:"",sjjid:"",biao1:!0,previewDialog:!1}},methods:{editorInit:function(){a("k8b3"),a("O9No"),a("e2p0"),a("Nc8q"),a("yr5Z"),a("Veth")},init:function(e,t){var a=this;this.title=e,this.sjjid=t,this.databaseVisible=!0,this.$nextTick(function(){Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataConnDataConnController/listUserDefinedViewDataConnDataConnList.action",{}).then(function(e){a.newData=e.data})})},init2:function(e,t){this.title=e,this.sjjid=t,this.httpVisible=!0,this.$nextTick(function(){})},prevDt:function(){this.biao1=!0},zdDelate:function(e){this.ZiduanForm.splice(e,1)},runScript:function(){var e=this;this.ZiduanForm.length||Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataConnDataConnController/queryConnectedTableList.action",this.addDatabaseTable).then(function(t){if(t.message){e.$message({type:"success",message:t.message}),e.previewShow=t.data,window.excelData=t.data;for(var a=0;a<c()(t.data[0]).length;a++)e.ZiduanForm.push({deleteType:1,columnName:c()(t.data[0])[a],chinaName:c()(t.data[0])[a],columnType:"varchar",columnLength:500})}})},runHttpScript:function(){var e=this;this.ZiduanForm.length||Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/queryHttpCreateTableData.action",this.addHttpTable).then(function(t){if(t.message){e.$message({type:"success",message:t.message}),e.previewShow=t.data,window.excelData=t.data;for(var a=0;a<t.headData.length;a++)e.ZiduanForm.push({deleteType:1,columnName:t.headData[a].column_name,chinaName:t.headData[a].column_name,columnType:t.headData[a].data_type,columnLength:500})}})},preview:function(){this.previewDialog=!0},addZiduan:function(){this.addDatabaseTable.name||this.addHttpTable.name?this.biao1=!1:this.$message({type:"warning",message:"请填写名称"})},addZd:function(){this.ZiduanForm.push({deleteType:0,columnName:"",chinaName:"",columnType:"varchar",columnLength:500}),console.log(this.ZiduanForm)},saveHttpZD:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/createTableOrUpdateTable.action",{name:this.addHttpTable.name,miaoshu:this.addHttpTable.miaoshu,excelData:s()(window.excelData),dataSetId:this.sjjid,ziduans:s()(this.ZiduanForm)}).then(function(t){e.$message({type:"success",message:t.message}),e.biao1=!0,e.ZiduanForm=[],e.httpVisible=!1})},saveDatabaseZD:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/createTableOrUpdateTable.action",{name:this.addDatabaseTable.name,miaoshu:this.addDatabaseTable.miaoshu,excelData:window.excelData,dataSetId:this.sjjid,leixing:"sql",ziduans:s()(this.ZiduanForm)}).then(function(t){e.$message({type:"success",message:t.message}),e.biao1=!0,e.ZiduanForm=[],e.databaseVisible=!1})}}},h=(a("VUtK"),Object(d.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.title,visible:e.databaseVisible,width:"820px",top:"8vh"},on:{"update:visible":function(t){e.databaseVisible=t}}},[e.biao1?a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticStyle:{width:"50%",float:"left",overflow:"hidden",padding:"5px"}},[a("el-form",{ref:"addDataTable",attrs:{model:e.addDatabaseTable,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"请输入活动名称",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"90%"},attrs:{"auto-complete":"off"},model:{value:e.addDatabaseTable.name,callback:function(t){e.$set(e.addDatabaseTable,"name",t)},expression:"addDatabaseTable.name"}}),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"表名可以包含中文和下划线，不能以数字开头，不能包含特殊字符",placement:"right"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#F0AD4E"}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"miaoshu"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{"auto-complete":"off"},model:{value:e.addDatabaseTable.miaoshu,callback:function(t){e.$set(e.addDatabaseTable,"miaoshu",t)},expression:"addDatabaseTable.miaoshu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据连接"}},[a("el-select",{attrs:{placeholder:"请选数据连接"},model:{value:e.addDatabaseTable.connId,callback:function(t){e.$set(e.addDatabaseTable,"connId",t)},expression:"addDatabaseTable.connId"}},e._l(e.newData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"SQL",prop:"jiaoben"}},[a("editor",{attrs:{lang:"html",theme:"chrome",width:"100%",height:"230"},on:{init:e.editorInit},model:{value:e.addDatabaseTable.sql,callback:function(t){e.$set(e.addDatabaseTable,"sql",t)},expression:"addDatabaseTable.sql"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"50%",float:"left",overflow:"hidden",padding:"5px"}},[a("div",{staticClass:"sjl_title"},[a("span",[e._v("数据权限列表")])]),e._v(" "),a("div",{staticClass:"sjqxlb"},[a("div",[a("span",{staticStyle:{padding:"0 5px"}},[e._v("C_2014")])])]),e._v(" "),a("div",{staticClass:"sjl_title"},[a("span",[e._v("脚本执行结果")])]),e._v(" "),a("textarea",{staticStyle:{width:"100%",height:"100px",outline:"none"},attrs:{name:"",id:"",cols:"30",rows:"10"}})])]):a("table",{staticStyle:{width:"100%","text-align":"center","line-height":"30px"}},[a("tr",[a("th",[e._v("字段名")]),e._v(" "),a("th",[e._v("显示名")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("长度")])]),e._v(" "),e._l(e.ZiduanForm,function(t,i){return a("tr",{key:i,staticClass:"zdData"},[a("td",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"columon-"+(i+1)},model:{value:t.columnName,callback:function(a){e.$set(t,"columnName",a)},expression:"item.columnName"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.deleteType,expression:"item.deleteType==0"}],on:{click:function(t){e.zdDelate(i)}}},[e._v("删除")])],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"字段-"+(i+1)},model:{value:t.chinaName,callback:function(a){e.$set(t,"chinaName",a)},expression:"item.chinaName"}})],1),e._v(" "),a("td",[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.columnType,callback:function(a){e.$set(t,"columnType",a)},expression:"item.columnType"}},[a("el-option",{attrs:{label:"varchar",value:"varchar"}}),e._v(" "),a("el-option",{attrs:{label:"decimal",value:"decimal"}}),e._v(" "),a("el-option",{attrs:{label:"datetime",value:"datetime"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}})],1)],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100px"},model:{value:t.columnLength,callback:function(a){e.$set(t,"columnLength",a)},expression:"item.columnLength"}})],1)])})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.biao1?a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.runScript}},[e._v("执行脚本")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.preview}},[e._v("预览数据")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.addZiduan}},[e._v("下一步")])],1):a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.addZd}},[e._v("添加字段")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.prevDt}},[e._v("上一步")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveDatabaseZD}},[e._v("保存")])],1)])]),e._v(" "),e.previewDialog?a("el-dialog",{attrs:{title:"预览数据",width:"70%",visible:e.previewDialog,"custom-class":"sj"},on:{"update:visible":function(t){e.previewDialog=t}}},[a("div",{staticStyle:{width:"100%",height:"500px",overflow:"auto"}},[a("table",{staticClass:"sjTable"},[a("tr",{staticStyle:{width:"120px","line-height":"24px",border:"1px solid #999"}},e._l(Object.keys(e.previewShow[0]),function(t,i){return a("th",{key:i,staticStyle:{width:"120px","line-height":"24px",border:"1px solid #999"}},[e._v("\n          "+e._s(t)+"\n          "),a("div",{staticStyle:{"font-size":"12px",color:"#999","font-weight":"normal"}},[e._v(e._s(t))])])})),e._v(" "),e._l(e.previewShow,function(t,i){return a("tr",{key:i,staticStyle:{width:"120px","line-height":"24px",border:"1px solid #999"}},e._l(t,function(t,i){return a("td",{key:i,staticStyle:{border:"1px solid #999"}},[e._v(e._s(t))])}))})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.previewDialog=!1}}},[e._v("关闭")])],1)])]):e._e(),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.httpVisible,width:"70%",top:"8vh"},on:{"update:visible":function(t){e.httpVisible=t}}},[e.biao1?a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticStyle:{width:"50%",float:"left",overflow:"hidden",padding:"5px"}},[a("el-form",{ref:"addDataTable",attrs:{model:e.addHttpTable,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"请输入活动名称",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"90%"},attrs:{"auto-complete":"off"},model:{value:e.addHttpTable.name,callback:function(t){e.$set(e.addHttpTable,"name",t)},expression:"addHttpTable.name"}}),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"表名可以包含中文和下划线，不能以数字开头，不能包含特殊字符",placement:"right"}},[a("i",{staticClass:"el-icon-info",staticStyle:{color:"#F0AD4E"}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"miaoshu"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{"auto-complete":"off"},model:{value:e.addHttpTable.miaoshu,callback:function(t){e.$set(e.addHttpTable,"miaoshu",t)},expression:"addHttpTable.miaoshu"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字段URL"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addHttpTable.headUrl,callback:function(t){e.$set(e.addHttpTable,"headUrl",t)},expression:"addHttpTable.headUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据URL",prop:"jiaoben"}},[a("editor",{attrs:{lang:"html",theme:"chrome",width:"100%",height:"230"},on:{init:e.editorInit},model:{value:e.addHttpTable.dataUrl,callback:function(t){e.$set(e.addHttpTable,"dataUrl",t)},expression:"addHttpTable.dataUrl"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"50%",float:"left",overflow:"hidden",padding:"5px"}},[a("div",{staticClass:"sjl_title"},[a("span",[e._v("数据权限列表")])]),e._v(" "),a("div",{staticClass:"sjqxlb"},[a("div",[a("span",{staticStyle:{padding:"0 5px"}},[e._v("C_2014")])])]),e._v(" "),a("div",{staticClass:"sjl_title"},[a("span",[e._v("脚本执行结果")])]),e._v(" "),a("textarea",{staticStyle:{width:"100%",height:"100px",outline:"none"},attrs:{name:"",id:"",cols:"30",rows:"10"}})])]):a("table",{staticStyle:{width:"100%","text-align":"center","line-height":"30px"}},[a("tr",[a("th",[e._v("字段名")]),e._v(" "),a("th",[e._v("显示名")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("长度")])]),e._v(" "),e._l(e.ZiduanForm,function(t,i){return a("tr",{key:i,staticClass:"zdData"},[a("td",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"columon-"+(i+1)},model:{value:t.columnName,callback:function(a){e.$set(t,"columnName",a)},expression:"item.columnName"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.deleteType,expression:"item.deleteType==0"}],on:{click:function(t){e.zdDelate(i)}}},[e._v("删除")])],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"字段-"+(i+1)},model:{value:t.chinaName,callback:function(a){e.$set(t,"chinaName",a)},expression:"item.chinaName"}})],1),e._v(" "),a("td",[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.columnType,callback:function(a){e.$set(t,"columnType",a)},expression:"item.columnType"}},[a("el-option",{attrs:{label:"varchar",value:"varchar"}}),e._v(" "),a("el-option",{attrs:{label:"decimal",value:"decimal"}}),e._v(" "),a("el-option",{attrs:{label:"datetime",value:"datetime"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}})],1)],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100px"},model:{value:t.columnLength,callback:function(a){e.$set(t,"columnLength",a)},expression:"item.columnLength"}})],1)])})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.biao1?a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.runHttpScript}},[e._v("执行脚本")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.preview}},[e._v("预览数据")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.addZiduan}},[e._v("下一步")])],1):a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.addZd}},[e._v("添加字段")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.prevDt}},[e._v("上一步")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveHttpZD}},[e._v("保存")])],1)])])],1)},[],!1,null,"74294fd3",null));h.options.__file="addWay.vue";var v={name:"dataAggregate",components:{addWay:h.exports},data:function(){return{active:0,treeMenu:[],base:[],title:"",treename:"",tableData:[],defaultProps:{children:"children",label:"label"},tree:{name:""},tree2:{name:"",id:""},xjsjjform:{name:"",menuId:""},bjform:{name:""},tableFiled:{},addDataTable:{},ZiduanForm:[],ziduanRedact:[],previewData:[],fileList:[],len:0,len1:0,treeid:"",ids:"",shuJuJiId:"",tableId:"",excelLength:"",action:config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/upLoadExcelCreateTable.action",xjml:!1,bjml:!1,xjsjj:!1,bj:!1,dataImport:!1,suoyin:!1,move:!1,sjb:!1,addDt:!1,bjDt:!1,biao1:!0,previewShow:!1,excelVisible:!1,addWayShow:!1,addWayul:!1}},methods:{getTree:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetMenuController/listUserDefinedViewDataSetMenuList.action",{}).then(function(t){e.treeMenu=t.data,e.treeid=e.treeMenu[e.active].id,e.treename=e.treeMenu[e.active].name})},addTree:function(){var e=this;this.title="新建目录",Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetMenuController/saveOrUpdateUserDefinedViewDataSetMenu.action",this.tree).then(function(t){e.$message({message:t.message,type:"success"}),e.xjml=!1,e.getTree()})},deleteTree:function(){var e=this;this.$confirm("确定要删除此目录吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetMenuController/deleteUserDefinedViewDataSetMenu.action",{ids:e.treeid}).then(function(t){e.$message({message:t.message,type:"success"}),e.getTree()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},editCatalog:function(){this.bjml=!0,this.title="编辑目录",this.tree2.id=this.treeid,this.tree2.name=this.treename},updateTree:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetMenuController/saveOrUpdateUserDefinedViewDataSetMenu.action",this.tree2).then(function(t){e.$message({message:t.message,type:"success"}),e.getTree()}),this.bjml=!1},getBase:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetDataSetController/listUserDefinedViewDataSetDataSetList.action",{menuId:this.treeid}).then(function(t){e.base=t.data})},addBase:function(){var e=this;this.xjsjjform.menuId=this.treeid,Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetDataSetController/saveOrUpdateUserDefinedViewDataSetDataSet.action",this.xjsjjform).then(function(t){e.$message({message:t.message,type:"success"}),e.getBase(),e.xjsjj=!1})},deleteBase:function(){for(var e=this,t=0;t<this.multipleSelection.length;t++)this.ids+=this.multipleSelection[t].id+",";this.ids=this.ids.slice(0,-1),this.$confirm("确定要删除选中的目录吗","确认操作",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetDataSetController/deleteUserDefinedViewDataSetDataSet.action",{ids:e.ids}).then(function(t){e.$message({type:"success",message:t.message}),e.ids="",e.getBase()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},updateBase:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetDataSetController/saveOrUpdateUserDefinedViewDataSetDataSet.action",{id:this.bjform.id,name:this.bjform.name}).then(function(t){e.$message({type:"success",message:t.message}),e.getBase(),e.bj=!1})},getTableData:function(e,t){var a=this;this.sjb=!0,this.title=t.name,this.shuJuJiId=t.id,Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableController/listUserDefinedViewDataSetTableList.action",{dataSetId:t.id}).then(function(e){a.tableData=e.data})},addZiduan:function(){this.addDataTable.name?(localStorage.menu=s()(this.addDataTable),this.biao1=!1):this.$message({type:"warning",message:"请填写名称"})},prevDt:function(){this.biao1=!0},addZd:function(){this.ZiduanForm.push({deleteType:0,columnName:"",chinaName:"",columnType:"varchar",columnLength:500})},zdDelate:function(e){this.ZiduanForm.splice(e,1)},saveZD:function(){var e=this,t=JSON.parse(localStorage.getItem("menu")),a={dataSetId:this.shuJuJiId,ziduans:this.ZiduanForm};localStorage.menu=s()(n()(t,a)),Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/createTableOrUpdateTable.action",{name:t.name,miaoshu:t.miaoshu,dataSetId:this.shuJuJiId,ziduans:s()(this.ZiduanForm)}).then(function(t){e.$message({type:"success",message:t.message}),e.biao1=!0,e.ZiduanForm=[],e.addDt=!1,e.sjb=!1,e.getBase()})},saveExcelZD:function(){var e=this;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/createTableOrUpdateTable.action",{name:this.addDataTable.name,miaoshu:this.addDataTable.miaoshu,dataSetId:this.shuJuJiId,leixing:"excel",excelData:s()(window.excelData),ziduans:s()(this.ZiduanForm)}).then(function(t){e.$message({type:"success",message:t.message}),e.biao1=!0,e.ZiduanForm=[],e.addDt=!1,e.sjb=!1,e.getBase()})},preview:function(e,t){var a=this;this.previewShow=!0,Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/listUserDefinedViewDataSetTableBaseList.action",{tableId:t.id}).then(function(e){a.tableFiled=e.data}),Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableController/queryUdvTableList.action",{tableId:t.id}).then(function(e){a.previewData=e.data;for(var t=0;t<a.previewData.length;t++)delete a.previewData[t].id,delete a.previewData[t].row})},bjDtfun:function(e,t){var a=this;this.bjDt=!0,this.tableId=t.id,Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/listUserDefinedViewDataSetTableBaseList.action",{tableId:t.id}).then(function(e){a.ziduanRedact=e.data})},addbjZd:function(){this.ziduanRedact.push({deleteType:0,columnName:"",chinaName:"",columnType:"varchar",columnLength:500})},zdbjDelate:function(e){this.ziduanRedact.splice(e,1)},savebjZD:function(){for(var e=0;e<this.ziduanRedact.length;e++)delete this.ziduanRedact[e].row,delete this.ziduanRedact[e].createDate,delete this.ziduanRedact[e].updateDate,delete this.ziduanRedact[e].tableId;Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableBaseController/createTableOrUpdateTable.action",{id:this.tableId,dataSetId:this.shuJuJiId,ziduans:s()(this.ziduanRedact)}).then(function(e){}),this.bjDt=!1},deleteTable:function(){for(var e=this,t=0;t<this.multipleSelection1.length;t++)this.ids+=this.multipleSelection1[t].id+",";this.ids=this.ids.slice(0,-1),this.$confirm("确定要删除选中的目录吗","确认操作",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableController/deleteUserDefinedViewDataSetTable.action",{ids:e.ids}).then(function(t){e.$message({type:"success",message:t.message}),e.ids="",Object(r.a)(config.apiPath2+"/userDefinedView/userDefinedViewDataSetTableController/listUserDefinedViewDataSetTableList.action",{dataSetId:e.shuJuJiId}).then(function(t){e.tableData=t.data}),e.getBase()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},showExcelVisible:function(){this.excelVisible=!0},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},successFile:function(e,t){window.excelData=e.excelData;var a=new Array;a=t.name.split("."),this.addDataTable.name=a[0],this.excelLength=e.data.length;for(var i=0;i<e.data.length;i++)this.ZiduanForm.push({deleteType:1,columnName:e.data[i],chinaName:e.data[i],columnType:"varchar",columnLength:500})},showDatabaseVisible:function(e,t){var a=this;this.addWayShow=!0,this.$nextTick(function(){a.$refs.addway.init(e,t)})},showHttpVisible:function(e,t){var a=this;this.addWayShow=!0,this.$nextTick(function(){a.$refs.addway.init2(e,t)})},handleSelectionChange:function(e){console.log(this.multipleSelection),this.multipleSelection=e,this.len=e.length},handleSelectionChange1:function(e){console.log(this.multipleSelection1),this.multipleSelection1=e,this.len1=e.length},addWay:function(){this.addWayul=!this.addWayul},bjfun:function(e,t){this.bj=!0,this.bjform=n()({},t)},suoyinfun:function(e,t){this.suoyin=!0,this.name=t.name},liClick:function(e,t){this.active=t,this.treeid=e.id,this.treename=e.name,this.getBase()}},mounted:function(){var e=this;this.getTree(),this.getBase(),this.$refs.adday&&document.addEventListener("click",function(t){e.$refs.adday.contains(t.target)||(e.addWayul=!1)})},watch:{}},f=(a("R4Z9"),Object(d.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticStyle:{"border-bottom":"1px solid #ccc"}},[a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){e.xjml=!0}}},[e._v("目录")]),e._v(" "),a("el-button",{staticStyle:{"margin-bottom":"15px"},attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(t){e.xjsjj=!0}}},[e._v("数据集")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.len,expression:"len!=0"}],attrs:{type:"danger",size:"mini"},on:{click:e.deleteBase}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.len,expression:"len!=0"}],staticStyle:{"margin-bottom":"15px"},attrs:{size:"mini"},on:{click:function(t){e.move=!0}}},[e._v("移动")])],1),e._v(" "),a("el-dialog",{attrs:{title:"新建目录",visible:e.xjml},on:{"update:visible":function(t){e.xjml=t}}},[a("el-form",{attrs:{model:e.tree,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.tree.name,callback:function(t){e.$set(e.tree,"name",t)},expression:"tree.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xjml=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addTree()}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.bjml},on:{"update:visible":function(t){e.bjml=t}}},[a("el-form",{attrs:{model:e.tree2,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.tree2.name,callback:function(t){e.$set(e.tree2,"name",t)},expression:"tree2.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bjml=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateTree()}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新建数据集",visible:e.xjsjj},on:{"update:visible":function(t){e.xjsjj=t}}},[a("el-form",{attrs:{model:e.xjsjjform,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.xjsjjform.name,callback:function(t){e.$set(e.xjsjjform,"name",t)},expression:"xjsjjform.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.xjsjj=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addBase()}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择目录",visible:e.move},on:{"update:visible":function(t){e.move=t}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.move=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.move=!1}}},[e._v("保 存")])],1)]),e._v(" "),a("el-aside",{staticStyle:{"border-right":"1px solid #ddd","min-height":"600px",position:"relative",float:"left"},attrs:{width:"250px"}},[a("ul",{staticClass:"_ulTreeMenu"},e._l(e.treeMenu,function(t,i){return a("li",{key:t.id,class:{active:i===e.active},on:{click:function(a){e.liClick(t,i)}}},[e._v(e._s(t.name))])})),e._v(" "),a("el-button-group",{staticClass:"_btnGroup"},[a("el-button",{attrs:{type:"",icon:"el-icon-edit",size:"small"},on:{click:function(t){e.editCatalog()}}},[e._v("编 辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){e.deleteTree()}}},[e._v("删 除")])],1)],1),e._v(" "),a("el-main",{staticStyle:{float:"left"}},[a("el-table",{ref:"base",staticStyle:{width:"100%"},attrs:{data:e.base,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.name)+"\n          "),a("span",{staticClass:"operation"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[a("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){e.bjfun(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看数据导入令牌",placement:"top"}},[a("i",{staticClass:"el-icon-sort",on:{click:function(t){e.dataImport=!0}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"索引",placement:"top"}},[a("i",{staticClass:"el-icon-menu",on:{click:function(a){e.suoyinfun(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"数据表",placement:"top"}},[a("i",{staticClass:"el-icon-tickets",on:{click:function(a){e.getTableData(t.$index,t.row)}}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"tableCount",label:"数据表数量",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDate",label:"上次更新",width:"300"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改数据集",visible:e.bj},on:{"update:visible":function(t){e.bj=t}}},[a("el-form",{ref:"bjform",attrs:{model:e.bjform,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"目录"}},[a("span",[e._v(e._s(this.treename))])]),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.bjform.name,callback:function(t){e.$set(e.bjform,"name",t)},expression:"bjform.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bj=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.updateBase()}}},[e._v("保 存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新建数据集",visible:e.dataImport,center:""},on:{"update:visible":function(t){e.dataImport=t}}},[a("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{type:"danger",size:"mini"}},[e._v("开启数据导入令牌")]),e._v(" "),a("span",{staticStyle:{display:"block",width:"100%","line-height":"40px",height:"40px","text-align":"center",color:"#999","margin-top":"30px"}},[e._v("开启数据导入令牌后，可通过API导入数据")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dataImport=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"索引管理:",visible:e.suoyin},on:{"update:visible":function(t){e.suoyin=t}}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning",size:"mini"}},[e._v("添加索引")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.suoyin=!1}}},[e._v("重建索引")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.suoyin=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.sjb,width:"820px"},on:{"update:visible":function(t){e.sjb=t}}},[a("el-table",{ref:"tableData",attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.name)+"\n          "),a("span",{staticClass:"operation"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"top"}},[a("i",{staticClass:"el-icon-edit-outline",on:{click:function(a){e.bjDtfun(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看数据导入令牌",placement:"top"}},[a("i",{staticClass:"el-icon-sort",on:{click:function(t){e.dataImport=!0}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"索引",placement:"top"}},[a("i",{staticClass:"el-icon-menu",on:{click:function(a){e.suoyinfun(t.$index,t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"预览数据",placement:"top"}},[a("i",{staticClass:"el-icon-tickets",on:{click:function(a){e.preview(t.$index,t.row)}}})])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"menuId",label:"特权字段",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leixing",label:"类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateDate",label:"上次更新",width:"200"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{ref:"adday",staticClass:"addWay",attrs:{onselectstart:"return false"},on:{click:e.addWay}},[a("span",[e._v("\n          导入数据表\n          "),a("b",[e._v("+")])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.addWayul,expression:"addWayul"}]},[a("li",{on:{click:function(t){e.showDatabaseVisible("数据库(sql语句)",e.shuJuJiId)}}},[e._v("数据库(sql语句)")]),e._v(" "),a("li",{on:{click:e.showExcelVisible}},[e._v("Excel")]),e._v(" "),a("li",{on:{click:function(t){e.showHttpVisible("Http接口",e.shuJuJiId)}}},[e._v("Http接口")])])]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.len1,expression:"len1!=0"}],attrs:{type:"danger",size:"mini"},on:{click:e.deleteTable}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){e.addDt=!0}}},[e._v("添加数据表")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.sjb=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新建数据表",visible:e.addDt,width:"820px","close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addDt=t}}},[e.biao1?a("el-form",{ref:"addDataTable",attrs:{model:e.addDataTable,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"请输入活动名称",trigger:"blur"}}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addDataTable.name,callback:function(t){e.$set(e.addDataTable,"name",t)},expression:"addDataTable.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"miaoshu"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addDataTable.miaoshu,callback:function(t){e.$set(e.addDataTable,"miaoshu",t)},expression:"addDataTable.miaoshu"}})],1)],1):a("table",{staticStyle:{width:"100%","text-align":"center","line-height":"30px"}},[a("tr",[a("th",[e._v("字段名")]),e._v(" "),a("th",[e._v("显示名")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("长度")])]),e._v(" "),e._l(e.ZiduanForm,function(t,i){return a("tr",{key:i,staticClass:"zdData"},[a("td",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"columon-"+(i+1)},model:{value:t.columnName,callback:function(a){e.$set(t,"columnName",a)},expression:"item.columnName"}}),e._v(" "),a("span",{on:{click:function(t){e.zdDelate(i)}}},[e._v("删除")])],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"字段-"+(i+1)},model:{value:t.chinaName,callback:function(a){e.$set(t,"chinaName",a)},expression:"item.chinaName"}})],1),e._v(" "),a("td",[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.columnType,callback:function(a){e.$set(t,"columnType",a)},expression:"item.columnType"}},[a("el-option",{attrs:{label:"varchar",value:"varchar"}}),e._v(" "),a("el-option",{attrs:{label:"decimal",value:"decimal"}}),e._v(" "),a("el-option",{attrs:{label:"datetime",value:"datetime"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}})],1)],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100px"},model:{value:t.columnLength,callback:function(a){e.$set(t,"columnLength",a)},expression:"item.columnLength"}})],1)])})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.biao1?a("el-button",{attrs:{size:"mini"},on:{click:e.addZiduan}},[e._v("下一步")]):a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.addZd}},[e._v("添加字段")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.prevDt}},[e._v("上一步")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveZD}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑字段",visible:e.bjDt,width:"820px"},on:{"update:visible":function(t){e.bjDt=t}}},[a("table",{staticStyle:{width:"100%","text-align":"center","line-height":"30px"}},[a("tr",[a("th",[e._v("字段名")]),e._v(" "),a("th",[e._v("显示名")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("长度")])]),e._v(" "),e._l(e.ziduanRedact,function(t,i){return a("tr",{key:i,staticClass:"zdData"},[a("td",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"columon-"+(i+1)},model:{value:t.columnName,callback:function(a){e.$set(t,"columnName",a)},expression:"item.columnName"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.deleteType,expression:"item.deleteType==0"}],on:{click:function(t){e.zdbjDelate(i)}}},[e._v("删除")])],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"字段-"+(i+1)},model:{value:t.chinaName,callback:function(a){e.$set(t,"chinaName",a)},expression:"item.chinaName"}})],1),e._v(" "),a("td",[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.columnType,callback:function(a){e.$set(t,"columnType",a)},expression:"item.columnType"}},[a("el-option",{attrs:{label:"varchar",value:"varchar"}}),e._v(" "),a("el-option",{attrs:{label:"decimal",value:"decimal"}}),e._v(" "),a("el-option",{attrs:{label:"datetime",value:"datetime"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}})],1)],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100px"},model:{value:t.columnLength,callback:function(a){e.$set(t,"columnLength",a)},expression:"item.columnLength"}})],1)])})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.addbjZd}},[e._v("添加字段")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.savebjZD}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.bjDt=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"预览数据",visible:e.previewShow,width:"820px",top:"8vh"},on:{"update:visible":function(t){e.previewShow=t}}},[a("div",{staticStyle:{width:"100%",height:"500px",overflow:"auto"}},[a("table",{staticClass:"sjTable",staticStyle:{"text-align":"center"}},[a("tr",e._l(e.tableFiled,function(t,i){return a("th",{key:i,staticStyle:{width:"120px","line-height":"24px",border:"1px solid #999"}},[e._v("\n            "+e._s(t.chinaName)+"\n            "),a("div",{staticStyle:{"font-size":"12px",color:"#999","font-weight":"normal"}},[e._v(e._s(t.columnName))])])})),e._v(" "),e._l(e.previewData,function(t,i){return a("tr",{key:i,staticStyle:{width:"120px","line-height":"24px",border:"1px solid #999"}},e._l(t,function(t,i){return a("td",{key:i,staticStyle:{border:"1px solid #999"}},[e._v(e._s(t))])}))})],2)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.previewShow=!1}}},[e._v("关闭")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.excelVisible,width:"60%"},on:{"update:visible":function(t){e.excelVisible=t}}},[e.biao1?a("div",[a("el-form",{ref:"addDataTable",attrs:{model:e.addDataTable,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"请输入活动名称",trigger:"blur"}}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addDataTable.name,callback:function(t){e.$set(e.addDataTable,"name",t)},expression:"addDataTable.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"miaoshu"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addDataTable.miaoshu,callback:function(t){e.$set(e.addDataTable,"miaoshu",t)},expression:"addDataTable.miaoshu"}})],1)],1),e._v(" "),a("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-left":"80px"},attrs:{action:e.action,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.successFile,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1):a("table",{staticStyle:{width:"100%","text-align":"center","line-height":"30px"}},[a("tr",[a("th",[e._v("字段名")]),e._v(" "),a("th",[e._v("显示名")]),e._v(" "),a("th",[e._v("类型")]),e._v(" "),a("th",[e._v("长度")])]),e._v(" "),e._l(e.ZiduanForm,function(t,i){return a("tr",{key:i,staticClass:"zdData"},[a("td",[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"columon-"+(i+1)},model:{value:t.columnName,callback:function(a){e.$set(t,"columnName",a)},expression:"item.columnName"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.deleteType,expression:"item.deleteType==0"}],on:{click:function(t){e.zdDelate(i)}}},[e._v("删除")])],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"130px"},attrs:{placeholder:"字段-"+(i+1)},model:{value:t.chinaName,callback:function(a){e.$set(t,"chinaName",a)},expression:"item.chinaName"}})],1),e._v(" "),a("td",[a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},model:{value:t.columnType,callback:function(a){e.$set(t,"columnType",a)},expression:"item.columnType"}},[a("el-option",{attrs:{label:"varchar",value:"varchar"}}),e._v(" "),a("el-option",{attrs:{label:"decimal",value:"decimal"}}),e._v(" "),a("el-option",{attrs:{label:"datetime",value:"datetime"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}})],1)],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100px"},model:{value:t.columnLength,callback:function(a){e.$set(t,"columnLength",a)},expression:"item.columnLength"}})],1)])})],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.biao1?a("el-button",{attrs:{size:"mini"},on:{click:e.addZiduan}},[e._v("下一步")]):a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.addZd}},[e._v("添加字段")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.prevDt}},[e._v("上一步")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveExcelZD}},[e._v("保存")])],1)],1)]),e._v(" "),e.addWayShow?a("add-way",{ref:"addway"}):e._e()],1)},[],!1,null,"4444b4a0",null));f.options.__file="dataAggregate.vue";t.default=f.exports},gpA7:function(e,t,a){},omC7:function(e,t,a){e.exports={default:a("u7us"),__esModule:!0}},u7us:function(e,t,a){var i=a("OwMq"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}}]);